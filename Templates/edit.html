{% extends "layout.html" %}
{% block body %}
    <!-- Page Header-->
        <header class="masthead" style="background-image: url('{{ url_for('static', filename='assets/img/dashboard.jpg') }}')">
            <div class="container position-relative px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <div class="site-heading">
                            <h1>Admin Panel</h1>
                            <span class="subheading">Manage Posts</span>
                        </div>
                    </div>
                </div>
            </div>
        </header>

	{% with messages = get_flashed_messages(with_categories=true)%}
	{% if messages %}
	{% for category, message in messages %}
	<div class="alert alert-{{category}} alert-dismissible fade show" role="alert">
	  {{message}}
	  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">
	  </button>
	</div>
	{% endfor %}
	{% endif %}
	{% endwith %}

    <!-- Main Content -->
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
		 
		<h1>Add/Edit Post</h1>
		
		<form name="sentMessage" id="contactForm" action="/edit/{{sno}}" method="post">
            <div class="control-group">
              <div class="form-group floating-label-form-group controls">
                <label>Title</label>
                <input name="title" type="text" class="form-control" placeholder="Title" id="title" required data-validation-required-message="Please enter your title." value="{{post.title}}">
                <p class="help-block text-danger"></p>
              </div>
            </div>
            <div class="control-group">
              <div class="form-group floating-label-form-group controls">
                <label>Tagline</label>
                <input name="tline" type="text" class="form-control" placeholder="Tagline" id="tline" required data-validation-required-message="Please enter your tagline."value="{{post.tagline}}">
                <p class="help-block text-danger"></p>
              </div>
            </div>
            <div class="control-group">
              <div class="form-group col-xs-12 floating-label-form-group controls">
                <label>Slug</label>
                <input name="slug" type="text" class="form-control" placeholder="Slug" id="slug" required data-validation-required-message="Please enter slug." value="{{post.slug}}">
                <p class="help-block text-danger"></p>
              </div>
            </div>
            <div class="control-group">
              <div class="form-group floating-label-form-group controls">
                <label>Content</label>
                <textarea name="content" rows="5" class="form-control" placeholder="Content" id="content" required data-validation-required-message="Please enter your content.">{{post.content}}</textarea>
                <p class="help-block text-danger"></p>
              </div>
            </div>
			<div class="control-group">
              <div class="form-group floating-label-form-group controls">
                <label>Image File Name</label>
                <input name="img_file" rows="5" class="form-control" placeholder="Image File Name" id="img_file" required data-validation-required-message="Please enter image file name." value="{{post.img_file}}">
                <p class="help-block text-danger"></p>
              </div>
            </div>
            <br>
            <div id="success"></div>
            <div class="form-group">
              <button type="submit" class="btn btn-primary" id="sendMessageButton">Submit</button>
            </div>
          </form>
		
        </div>
      </div>
    </div>
    {% endblock %}
